/* OGX.JS ContextMenu@1.0.1 */
require("ContextMenu","Uxi","Touch","Overlay");OGX.ContextMenu=function(e){construct(this,"ContextMenu");"use strict";var n=this;var o={index:0,el:"body",x:0,y:0,list:[],key:null,display:{html:"<span>{{$label}}</span>",css:"ogx_context_menu_item"},callback:null,html:'<div class="ogx_context_menu_body"><div class="ogx_context_menu_list"></div></div>',"node:OML":{".ogx_context_menu_body > .ogx_context_menu_list:DynamicList":{id:"ogx_context_menu_list"}}};var i="ogx_context_menu";var s,l;this._NAME_=OGX.ContextMenu.NAME;this.construct=function(){};this.ux=function(t){if(t){this.touch.enable();$(window).on(this.touch.down,c);this.el.on(OGX.DynamicList.SELECT,u)}else{this.touch.disable();$(window).off(this.touch.down,c);this.el.off(OGX.DynamicList.SELECT,u)}};function c(t){t=n.event(t);if(!n.el[0].contains(t.target)){n.parent.remove("ContextMenu",n.id)}}function u(t,e){if(s.callback){s.callback(e)}setTimeout(function(){app.remove("ContextMenu",s.id)},0)}function t(){s=OGX.Data.merge(e,o,false);l=n.el=$(s.el);l.html(s.html);var t=s["node:OML"][".ogx_context_menu_body > .ogx_context_menu_list:DynamicList"];t.display=s.display;t.key=s.key;t.list=s.list;if(s.index){n.z=s.index}else{n.z=s.parent.topIndex()}l.addClass(i);l.css({top:s.y+"px",left:s.x+"px","z-index":n.z})}t()};OGX.ContextMenu.NAME="ContextMenu";OGX.ContextMenu.FLOAT=true;